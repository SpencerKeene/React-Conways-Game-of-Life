(this["webpackJsonpreact-conway"]=this["webpackJsonpreact-conway"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"advance",(function(){return u})),n.d(a,"randomize",(function(){return b})),n.d(a,"coord",(function(){return j})),n.d(a,"parseCoord",(function(){return f})),n.d(a,"addLiveCell",(function(){return h})),n.d(a,"deleteLiveCell",(function(){return m}));var i=n(1),o=n.n(i),r=n(4),c=n.n(r),s=(n(9),n(10),n(2)),l=n(0),d=function(e){var t=e.togglePlaying,n=e.isPlaying,a=e.cellSize,i=e.setCellSize,o=e.playSpeed,r=e.setPlaySpeed,c=e.generation,s=e.randomizeBoard,d=e.clearBoard;return Object(l.jsxs)("div",{className:"Toolbar",children:[Object(l.jsxs)("div",{className:"playAligner",children:[Object(l.jsx)("button",{className:"playButton",onClick:t,children:n?"Pause":"Play"}),Object(l.jsxs)("div",{id:"generation",children:["Generation: ",c]})]}),Object(l.jsxs)("div",{className:"slidersAligner",children:[Object(l.jsxs)("div",{class:"slidecontainer",id:"cellSizeSliderContainer",children:["Cell Size: ",a,Object(l.jsx)("form",{children:Object(l.jsx)("input",{type:"range",min:"8",max:"80",value:a,class:"slider",id:"cellSizeSlider",onChange:function(e){i(parseInt(e.target.value))}})})]}),Object(l.jsxs)("div",{class:"slidecontainer",id:"playSpeedSliderContainer",children:["Speed: ",o,Object(l.jsx)("form",{children:Object(l.jsx)("input",{type:"range",min:"1",max:"100",value:o,class:"slider",id:"playSpeedSlider",onChange:function(e){r(parseInt(e.target.value))}})})]})]}),Object(l.jsxs)("div",{className:"buttonsAligner",children:[Object(l.jsx)("button",{className:"randomizeButton",onClick:s,children:"Randomize"}),Object(l.jsx)("button",{className:"clearButton",onClick:d,children:"Clear"})]})]})},u=function(e,t){var n=new Set,a=new Map;return e.forEach((function(e){2!==t.get(e)&&3!==t.get(e)||h(n,a,e)})),t.forEach((function(t,i){e.has(i)||3!==t||h(n,a,i)})),[n,a]},b=function(e,t,n,a){for(var i=new Set,o=new Map,r=e;r<n;r++)for(var c=t;c<a;c++)Math.random()<1/3&&h(i,o,j(r,c));return[i,o]},j=function(e,t){return e+","+t},f=function(e){return e.match(/-?\d+/g).map((function(e){return parseInt(e)}))},h=function(e,t,n){e.has(n)||(e.add(n),O(t,n))},m=function(e,t,n){e.has(n)&&(e.delete(n),g(t,n))},O=function(e,t){for(var n=f(t),a=Object(s.a)(n,2),i=a[0],o=a[1],r=-1;r<=1;r++)for(var c=-1;c<=1;c++)if(0!==r||0!==c){var l=j(i+r,o+c),d=e.get(l);e.set(l,1+(0|d))}},g=function(e,t){for(var n=f(t),a=Object(s.a)(n,2),i=a[0],o=a[1],r=-1;r<=1;r++)for(var c=-1;c<=1;c++)if(0!==r||0!==c){var l=j(i+r,o+c),d=e.get(l);d&&(1===d&&e.delete(l),e.set(l,d-1))}},v=function(e){var t=e.positionX,n=e.setPositionX,a=e.positionY,o=e.setPositionY,r=e.cellSize,c=e.setCellSize,d=e.liveCells,u=e.setLiveCells,b=e.neighbourCounts,f=e.setNeighbourCounts,O=Object(i.useRef)(),g=Object(i.useState)(!1),v=Object(s.a)(g,2),p=v[0],x=v[1],w=Object(i.useState)(!1),y=Object(s.a)(w,2),S=y[0],C=y[1],M=Object(i.useState)(""),k=Object(s.a)(M,2),z=k[0],B=k[1],E=Object(i.useCallback)((function(){var e=O.current;if(e){for(var n=new OffscreenCanvas(e.width,e.height),i=n.getContext("2d"),o=Math.max(Math.floor(1.1*r),r+1),c=-(a%o+(a<0?o:0)),s=-(t%o+(t<0?o:0));s<n.width;s+=o)for(var l=c;l<n.height;l+=o){var u=(t+s)/o,b=(a+l)/o;i.fillStyle=d.has(j(u,b))?"black":"lightblue",i.fillRect(s,l,r,r)}var f=n.transferToImageBitmap();e.getContext("bitmaprenderer").transferFromImageBitmap(f)}}),[r,d,t,a]);Object(i.useEffect)((function(){var e=O.current;e.width=window.innerWidth,e.height=window.innerHeight-100,e.style.backgroundColor="grey"}),[]);var I=Object(i.useRef)();cancelAnimationFrame(I.current),I.current=requestAnimationFrame(E);var P=function(e){if(S){var n=e.clientX,i=e.clientY,o=Math.max(Math.floor(1.1*r),r+1),c=Math.floor((t+n)/o),s=Math.floor((a+i)/o),l=j(c,s),O=new Set(d),g=new Map(b);"add"===z?h(O,g,l):"delete"===z?m(O,g,l):d.has(l)?(m(O,g,l),B("delete")):(h(O,g,l),B("add")),u(O),f(g)}},T=function(e){e.shiftKey&&!S?L():e.shiftKey||N()},L=function(){C(!0),document.getElementById("gameboardCanvas").setAttribute("drawing","")},N=function(){C(!1),document.getElementById("gameboardCanvas").removeAttribute("drawing")},A=function(e){1===e.buttons?S?P(e):p||S||x(!0):(p&&x(!1),S&&B(""))};return Object(l.jsx)("canvas",{id:"gameboardCanvas",ref:O,onMouseDown:A,onMouseUp:A,onMouseEnter:function(e){A(e),document.getElementById("gameboardCanvas").focus()},onMouseOut:A,onMouseMove:function(e){S&&1===e.buttons?P(e):function(e){p&&(n(t-e.movementX),o(a-e.movementY))}(e)},onKeyDown:T,onKeyUp:T,onWheel:function(e){e.deltaY>0?c(Math.max(8,r-4)):c(Math.min(80,r+4))},tabIndex:0})},p=function(){var e=Object(i.useState)(0),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(i.useState)(new Set),c=Object(s.a)(r,2),j=c[0],f=c[1],h=Object(i.useState)(new Map),m=Object(s.a)(h,2),O=m[0],g=m[1],p=Object(i.useState)(30),x=Object(s.a)(p,2),w=x[0],y=x[1],S=Object(i.useState)(80),C=Object(s.a)(S,2),M=C[0],k=C[1],z=Object(i.useState)(!1),B=Object(s.a)(z,2),E=B[0],I=B[1],P=Object(i.useRef)(),T=Object(i.useState)(0),L=Object(s.a)(T,2),N=L[0],A=L[1],F=Object(i.useState)(0),R=Object(s.a)(F,2),Y=R[0],G=R[1],K=Object(i.useCallback)((function(){var e=u(j,O),t=Object(s.a)(e,2),n=t[0],a=t[1];f(n),g(a),o((function(e){return e+1}))}),[j,O]),X=function(){I(!1),clearTimeout(P.current),A(0),G(0),f(new Set),g(new Map),o(0)};return Object(i.useEffect)((function(){X()}),[]),Object(i.useEffect)((function(){clearTimeout(P.current),E&&(P.current=setTimeout(K,1e3-10*M))}),[K,E,M]),Object(l.jsxs)("div",{className:"Gameboard",children:[Object(l.jsx)(v,{positionX:N,setPositionX:A,positionY:Y,setPositionY:G,cellSize:w,setCellSize:y,liveCells:j,setLiveCells:f,neighbourCounts:O,setNeighbourCounts:g}),Object(l.jsx)(d,{isPlaying:E,togglePlaying:function(){I(!E)},cellSize:w,setCellSize:y,playSpeed:M,setPlaySpeed:k,generation:n,randomizeBoard:function(){X();var e=window.innerWidth/w,t=window.innerHeight/w,n=[Math.floor(.05*e),Math.floor(.1*t)],i=[Math.floor(.83*e),Math.floor(.72*t)],o=b.apply(a,n.concat(i)),r=Object(s.a)(o,2),c=r[0],l=r[1];f(c),g(l)},clearBoard:X})]})},x=function(){return Object(l.jsx)("div",{id:"introModal",class:"modal",style:{display:"block"},children:Object(l.jsxs)("div",{class:"modal-content",children:[Object(l.jsxs)("div",{class:"modal-header",children:[Object(l.jsx)("span",{class:"close",onClick:function(){document.getElementById("introModal").style.display="none"},children:"\xd7"}),Object(l.jsx)("h2",{children:"Welcome"})]}),Object(l.jsxs)("div",{class:"modal-body",children:[Object(l.jsxs)("p",{children:["This is an interactive version of John Conway's Game of Life made by\xa0",Object(l.jsx)("a",{href:"https://www.linkedin.com/in/spencerkeene/",target:"_blank",rel:"noreferrer",children:"Spencer Keene"}),"."]}),Object(l.jsxs)("p",{children:["To learn how the game works checkout my"," ",Object(l.jsx)("a",{href:"https://github.com/SpencerKeene/React-Conways-Game-of-Life/blob/main/README.md",target:"_blank",rel:"noreferrer",children:"README"}),"."]}),Object(l.jsxs)("p",{children:["To learn about the Game of Life, visit the Game of Life\xa0",Object(l.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",target:"_blank",rel:"noreferrer",children:"Wikipedia page"}),"."]}),Object(l.jsx)("p",{children:"Try to make some interesting patterns and enjoy!"}),Object(l.jsx)("h3",{children:"Instrctions"}),Object(l.jsx)("p",{children:"To move around the board, simply click and drag."}),Object(l.jsx)("p",{children:"To draw on the board and either bring a cell to life or kill it, hold SHIFT while clicking on a cell. You can hold down on the mouse while moving it around to continue adding or removing cells (depending on what cell you clicked on first)."})]})]})})};var w=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(p,{}),Object(l.jsx)(x,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};c.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root")),y()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.fcd1dd62.chunk.js.map